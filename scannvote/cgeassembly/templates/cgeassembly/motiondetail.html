{% extends 'base/base.html' %}

{% block content %}
<div class="container base">
    <h3>Motion</h3>
    <p name="motion-desc">{{ motion }}</p>

    {% if error_message %}<p name="vote-error"><strong>{{ error_message }}</strong></p>{% endif %}
    {% if motion.voteable %}
        <form action = "{% url 'cgeassembly:vote' motion.id %}" method = "post">
        {% csrf_token %}
        <input type="radio" name="choice" id="a-favor" value="0">
        <label for="a-favor">A favor</label><br>

        <input type="radio" name="choice" id="en-contra" value="1">
        <label for="en-contra">En contra</label><br>

        <input type="radio" name="choice" id="abstenido" value="2">
        <label for="abstenido">Abstenido</label><br>

        <input name="vote-btn" type="submit" value="Vote">
        </form>
    {% else %}
        <p name="voting-closed">Voting is not open at the moment</p>
    {%endif%}
    <a style="align-content: center" href= "{% url 'cgeassembly:motionresults' motion.id %}">View Results</a>
    <hr>

    <h3>Amendments</h3>
        {% if motion.original_motion.all %}
            {% for amendment in motion.original_motion.all %}
                <li><a href= "{% url 'cgeassembly:motiondetail' amendment.id %}">{{ amendment.motion_text }}</a></li>
            {% endfor %}
        {% else %} <p name="no-amendments-msg">No amendments</p>
        {%endif%}
</div>

{% endblock %}